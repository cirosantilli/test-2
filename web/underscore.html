<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8"/>
  <title>underscore</title>
  <link rel="shortcut icon" type="image/x-icon" href="flower.jpg"/>
  <style>
   .border { border:1px solid black; }
  </style>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
  <script src="assert.js"></script>
</head>
<body>
<h1>#Underscore.js</h1>

<p>Utility library.</p>
<p>Focus on arrays and iterables.</p>
<p>Created by the creator of Backbone.js, and often used with it.</p>

<h2>isEqual</h2>

  <script>
    assert( _.isEqual([0, 1], [0, 1]))
    assert(!_.isEqual([0, 1], [1, 0]))
  </script>

<h2>bindAll</h2>

  <p>http://stackoverflow.com/questions/6582059/need-explanation-of-the-bindall-function-from-underscore-js</p>
  <p>Replaces a function by an identical function whose `this` is fixed (binded) to given object.</p>

  <script>
    var C = function(x) {
        this.x = x
    }
    C.prototype.f = function() {
        return this.x
    }

    var c0 = new C(0)
    var c1 = new C(1)
    window.x = 2

    assert_eq(c0.f(), 0)
    assert_eq(c1.f(), 1)

    var g = c0.f
    // Because `f` is called with `this == window`.
    assert_eq(g(), 2)

    // Set the `this` of `c0.f` to be always `c0`.
    _.bindAll(c0, 'f');
    g = c0.f;
    assert_eq(g(), 0)
    g = c1.f;
    assert_eq(g(), 2)
  </script>

<h2>#chain #call _</h2>

  <script>
    assert_eq(_.map([2], function(n){ return n * 2 })[0], 4)
    assert_eq(_([2]).map(function(n){ return n * 2 })[0], 4)
  </script>
</body>
</html>
